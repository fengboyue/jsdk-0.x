<!--  -->
<HTML>
<HEAD>
<TITLE></TITLE>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<LINK REL ="stylesheet" TYPE="text/css" HREF="../inc/stylesheet.css">
</HEAD>

<BODY style="margin:5px;">
<div style="float:right;">
<span class="button" onclick="if(window.history.length > 1) window.history.go(-1);">Back</span>
</div>
<div style="margin-left:5px;">util\js-util-dragdrop-min.js</div>
<pre class="source">
<span class="multiComment">/*!
 * @project JSDK JavaScript Development Kit
 * @copyright Copyright(c) 2004-2012, Dragonfly.org. All rights reserved.
 * @license LGPLv3
 * 
 * @version 0.1
 * @author feng.chun
 * @date 2011-09-26
 * 
 * @requires /core/js-core.js
 */</span>
<span class="multiComment">/*!
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.8.1
*/</span>
<b>if </b>(!YAHOO.util.DragDropMgr){YAHOO.util.DragDropMgr=<b>function </b>(){<b>var </b>a=YAHOO.util.Event,b=YAHOO.util.Dom;<b>return</b>{useShim:<b>false</b>,_shimActive:<b>false</b>,_shimState:<b>false</b>,_debugShim:<b>false</b>,_createShim:<b>function </b>(){<b>var </b>c=document.createElement("div");c.id="yui-ddm-shim";<b>if </b>(document.body.firstChild){document.body.insertBefore(c,document.body.firstChild);}<b>else </b>{document.body.appendChild(c);}c.style.display="none";c.style.backgroundColor="red";c.style.position="absolute";c.style.zIndex="99999";b.setStyle(c,"opacity","0");<b>this</b>._shim=c;a.on(c,"mouseup",<b>this</b>.handleMouseUp,<b>this</b>,<b>true</b>);a.on(c,"mousemove",<b>this</b>.handleMouseMove,<b>this</b>,<b>true</b>);a.on(window,"scroll",<b>this</b>._sizeShim,<b>this</b>,<b>true</b>);},_sizeShim:<b>function </b>(){<b>if </b>(<b>this</b>._shimActive){<b>var </b>c=<b>this</b>._shim;c.style.height=b.getDocumentHeight()+"px";c.style.width=b.getDocumentWidth()+"px";c.style.top="0";c.style.left="0";}},_activateShim:<b>function </b>(){<b>if </b>(<b>this</b>.useShim){<b>if </b>(!<b>this</b>._shim){<b>this</b>._createShim();}<b>this</b>._shimActive=<b>true</b>;<b>var </b>d=<b>this</b>._shim,c="0";<b>if </b>(<b>this</b>._debugShim){c=".5";}b.setStyle(d,"opacity",c);<b>this</b>._sizeShim();d.style.display="block";}},_deactivateShim:<b>function </b>(){<b>this</b>._shim.style.display="none";<b>this</b>._shimActive=<b>false</b>;},_shim:<b>null</b>,ids:{},handleIds:{},dragCurrent:<b>null</b>,dragOvers:{},deltaX:0,deltaY:0,preventDefault:<b>true</b>,stopPropagation:<b>true</b>,initialized:<b>false</b>,locked:<b>false</b>,interactionInfo:<b>null</b>,init:<b>function </b>(){<b>this</b>.initialized=<b>true</b>;},POINT:0,INTERSECT:1,STRICT_INTERSECT:2,mode:0,_execOnAll:<b>function </b>(e,f){<b>for </b>(<b>var </b>d<b> in </b><b>this</b>.ids){<b>for </b>(<b>var </b>g<b> in </b><b>this</b>.ids[d]){<b>var </b>c=<b>this</b>.ids[d][g];<b>if </b>(!<b>this</b>.isTypeOfDD(c)){<b>continue</b>;}c[e].apply(c,f);}}},_onLoad:<b>function </b>(){<b>this</b>.init();a.on(document,"mouseup",<b>this</b>.handleMouseUp,<b>this</b>,<b>true</b>);a.on(document,"mousemove",<b>this</b>.handleMouseMove,<b>this</b>,<b>true</b>);a.on(window,"unload",<b>this</b>._onUnload,<b>this</b>,<b>true</b>);a.on(window,"resize",<b>this</b>._onResize,<b>this</b>,<b>true</b>);},_onResize:<b>function </b>(c){<b>this</b>._execOnAll("resetConstraints",[]);},lock:<b>function </b>(){<b>this</b>.locked=<b>true</b>;},unlock:<b>function </b>(){<b>this</b>.locked=<b>false</b>;},isLocked:<b>function </b>(){<b>return</b> <b>this</b>.locked;},locationCache:{},useCache:<b>true</b>,clickPixelThresh:3,clickTimeThresh:1000,dragThreshMet:<b>false</b>,clickTimeout:<b>null</b>,startX:0,startY:0,fromTimeout:<b>false</b>,regDragDrop:<b>function </b>(c,d){<b>if </b>(!<b>this</b>.initialized){<b>this</b>.init();}<b>if </b>(!<b>this</b>.ids[d]){<b>this</b>.ids[d]={};}<b>this</b>.ids[d][c.id]=c;},removeDDFromGroup:<b>function </b>(c,e){<b>if </b>(!<b>this</b>.ids[e]){<b>this</b>.ids[e]={};}<b>var </b>d=<b>this</b>.ids[e];<b>if </b>(d&&d[c.id]){<b>delete </b>d[c.id];}},_remove:<b>function </b>(c){<b>for </b>(<b>var </b>d<b> in </b>c.groups){<b>if </b>(d){<b>var </b>e=<b>this</b>.ids[d];<b>if </b>(e&&e[c.id]){<b>delete </b>e[c.id];}}}<b>delete </b><b>this</b>.handleIds[c.id];},regHandle:<b>function </b>(c,d){<b>if </b>(!<b>this</b>.handleIds[c]){<b>this</b>.handleIds[c]={};}<b>this</b>.handleIds[c][d]=d;},isDragDrop:<b>function </b>(c){<b>return</b>(<b>this</b>.getDDById(c))?<b>true</b>:<b>false</b>;},getRelated:<b>function </b>(c,g){<b>var </b>d=[];<b>for </b>(<b>var </b>e<b> in </b>c.groups){<b>for </b>(<b>var </b>f<b> in </b><b>this</b>.ids[e]){<b>var </b>h=<b>this</b>.ids[e][f];<b>if </b>(!<b>this</b>.isTypeOfDD(h)){<b>continue</b>;}<b>if </b>(!g||h.isTarget){d[d.length]=h;}}}<b>return</b> d;},isLegalTarget:<b>function </b>(c,d){<b>var </b>f=<b>this</b>.getRelated(c,<b>true</b>);<b>for </b>(<b>var </b>e=0,g=f.length;e&lt;g;++e){<b>if </b>(f[e].id==d.id){<b>return</b> <b>true</b>;}}<b>return</b> <b>false</b>;},isTypeOfDD:<b>function </b>(c){<b>return</b>(c&&c.__ygDragDrop);},isHandle:<b>function </b>(c,d){<b>return</b>(<b>this</b>.handleIds[c]&&<b>this</b>.handleIds[c][d]);},getDDById:<b>function </b>(c){<b>for </b>(<b>var </b>d<b> in </b><b>this</b>.ids){<b>if </b>(<b>this</b>.ids[d][c]){<b>return</b> <b>this</b>.ids[d][c];}}<b>return</b> <b>null</b>;},handleMouseDown:<b>function </b>(c,d){<b>this</b>.currentTarget=YAHOO.util.Event.getTarget(c);<b>this</b>.dragCurrent=d;<b>var </b>e=d.getEl();<b>this</b>.startX=YAHOO.util.Event.getPageX(c);<b>this</b>.startY=YAHOO.util.Event.getPageY(c);<b>this</b>.deltaX=<b>this</b>.startX-e.offsetLeft;<b>this</b>.deltaY=<b>this</b>.startY-e.offsetTop;<b>this</b>.dragThreshMet=<b>false</b>;<b>this</b>.clickTimeout=setTimeout(<b>function </b>(){<b>var </b>f=YAHOO.util.DDM;f.startDrag(f.startX,f.startY);f.fromTimeout=<b>true</b>;},<b>this</b>.clickTimeThresh);},startDrag:<b>function </b>(e,c){<b>if </b>(<b>this</b>.dragCurrent&&<b>this</b>.dragCurrent.useShim){<b>this</b>._shimState=<b>this</b>.useShim;<b>this</b>.useShim=<b>true</b>;}<b>this</b>._activateShim();clearTimeout(<b>this</b>.clickTimeout);<b>var </b>d=<b>this</b>.dragCurrent;<b>if </b>(d&&d.events.b4StartDrag){d.b4StartDrag(e,c);d.fireEvent("b4StartDragEvent",{x:e,y:c});}<b>if </b>(d&&d.events.startDrag){d.startDrag(e,c);d.fireEvent("startDragEvent",{x:e,y:c});}<b>this</b>.dragThreshMet=<b>true</b>;},handleMouseUp:<b>function </b>(c){<b>if </b>(<b>this</b>.dragCurrent){clearTimeout(<b>this</b>.clickTimeout);<b>if </b>(<b>this</b>.dragThreshMet){<b>if </b>(<b>this</b>.fromTimeout){<b>this</b>.fromTimeout=<b>false</b>;<b>this</b>.handleMouseMove(c);}<b>this</b>.fromTimeout=<b>false</b>;<b>this</b>.fireEvents(c,<b>true</b>);}<b>else </b>{}<b>this</b>.stopDrag(c);<b>this</b>.stopEvent(c);}},stopEvent:<b>function </b>(c){<b>if </b>(<b>this</b>.stopPropagation){YAHOO.util.Event.stopPropagation(c);}<b>if </b>(<b>this</b>.preventDefault){YAHOO.util.Event.preventDefault(c);}},stopDrag:<b>function </b>(c,d){<b>var </b>e=<b>this</b>.dragCurrent;<b>if </b>(e&&!d){<b>if </b>(<b>this</b>.dragThreshMet){<b>if </b>(e.events.b4EndDrag){e.b4EndDrag(c);e.fireEvent("b4EndDragEvent",{e:c});}<b>if </b>(e.events.endDrag){e.endDrag(c);e.fireEvent("endDragEvent",{e:c});}}<b>if </b>(e.events.mouseUp){e.onMouseUp(c);e.fireEvent("mouseUpEvent",{e:c});}}<b>if </b>(<b>this</b>._shimActive){<b>this</b>._deactivateShim();<b>if </b>(<b>this</b>.dragCurrent&&<b>this</b>.dragCurrent.useShim){<b>this</b>.useShim=<b>this</b>._shimState;<b>this</b>._shimState=<b>false</b>;}}<b>this</b>.dragCurrent=<b>null</b>;<b>this</b>.dragOvers={};},handleMouseMove:<b>function </b>(c){<b>var </b>f=<b>this</b>.dragCurrent;<b>if </b>(f){<b>if </b>(YAHOO.util.Event.isIE&&!c.button){<b>this</b>.stopEvent(c);<b>return</b> <b>this</b>.handleMouseUp(c);}<b>else </b>{<b>if </b>(c.clientX&lt;0||c.clientY&lt;0){}}<b>if </b>(!<b>this</b>.dragThreshMet){<b>var </b>d=Math.abs(<b>this</b>.startX-YAHOO.util.Event.getPageX(c));<b>var </b>e=Math.abs(<b>this</b>.startY-YAHOO.util.Event.getPageY(c));<b>if </b>(d&gt;<b>this</b>.clickPixelThresh||e&gt;<b>this</b>.clickPixelThresh){<b>this</b>.startDrag(<b>this</b>.startX,<b>this</b>.startY);}}<b>if </b>(<b>this</b>.dragThreshMet){<b>if </b>(f&&f.events.b4Drag){f.b4Drag(c);f.fireEvent("b4DragEvent",{e:c});}<b>if </b>(f&&f.events.drag){f.onDrag(c);f.fireEvent("dragEvent",{e:c});}<b>if </b>(f){<b>this</b>.fireEvents(c,<b>false</b>);}}<b>this</b>.stopEvent(c);}},fireEvents:<b>function </b>(i,s){<b>var </b>ac=<b>this</b>.dragCurrent;<b>if </b>(!ac||ac.isLocked()||ac.dragOnly){<b>return</b>;}<b>var </b>q=YAHOO.util.Event.getPageX(i),r=YAHOO.util.Event.getPageY(i),o=<b>new </b>YAHOO.util.Point(q,r),t=ac.getTargetCoord(o.x,o.y),y=ac.getDragEl(),z=["out","over","drop","enter"],j=<b>new </b>YAHOO.util.Region(t.y,t.x+y.offsetWidth,t.y+y.offsetHeight,t.x),v=[],A={},n=[],ab={outEvts:[],overEvts:[],dropEvts:[],enterEvts:[]};<b>for </b>(<b>var </b>l<b> in </b><b>this</b>.dragOvers){<b>var </b>aa=<b>this</b>.dragOvers[l];<b>if </b>(!<b>this</b>.isTypeOfDD(aa)){<b>continue</b>;}<b>if </b>(!<b>this</b>.isOverTarget(o,aa,<b>this</b>.mode,j)){ab.outEvts.push(aa);}v[l]=<b>true</b>;<b>delete </b><b>this</b>.dragOvers[l];}<b>for </b>(<b>var </b>m<b> in </b>ac.groups){<b>if </b>("string"!=<b>typeof </b>m){<b>continue</b>;}<b>for </b>(l<b> in </b><b>this</b>.ids[m]){<b>var </b>x=<b>this</b>.ids[m][l];<b>if </b>(!<b>this</b>.isTypeOfDD(x)){<b>continue</b>;}<b>if </b>(x.isTarget&&!x.isLocked()&&x!=ac){<b>if </b>(<b>this</b>.isOverTarget(o,x,<b>this</b>.mode,j)){A[m]=<b>true</b>;<b>if </b>(s){ab.dropEvts.push(x);}<b>else </b>{<b>if </b>(!v[x.id]){ab.enterEvts.push(x);}<b>else </b>{ab.overEvts.push(x);}<b>this</b>.dragOvers[x.id]=x;}}}}}<b>this</b>.interactionInfo={out:ab.outEvts,enter:ab.enterEvts,over:ab.overEvts,drop:ab.dropEvts,point:o,draggedRegion:j,sourceRegion:<b>this</b>.locationCache[ac.id],validDrop:s};<b>for </b>(<b>var </b>B<b> in </b>A){n.push(B);}<b>if </b>(s&&!ab.dropEvts.length){<b>this</b>.interactionInfo.validDrop=<b>false</b>;<b>if </b>(ac.events.invalidDrop){ac.onInvalidDrop(i);ac.fireEvent("invalidDropEvent",{e:i});}}<b>for </b>(l=0;l&lt;z.length;l++){<b>var </b>f=<b>null</b>;<b>if </b>(ab[z[l]+"Evts"]){f=ab[z[l]+"Evts"];}<b>if </b>(f&&f.length){<b>var </b>w=z[l].charAt(0).toUpperCase()+z[l].substr(1),g="onDrag"+w,u="b4Drag"+w,p="drag"+w+"Event",h="drag"+w;<b>if </b>(<b>this</b>.mode){<b>if </b>(ac.events[u]){ac[u](i,f,n);ac.fireEvent(u+"Event",{event:i,info:f,group:n});}<b>if </b>(ac.events[h]){ac[g](i,f,n);ac.fireEvent(p,{event:i,info:f,group:n});}}<b>else </b>{<b>for </b>(<b>var </b>e=0,k=f.length;e&lt;k;++e){<b>if </b>(ac.events[u]){ac[u](i,f[e].id,n[0]);ac.fireEvent(u+"Event",{event:i,info:f[e].id,group:n[0]});}<b>if </b>(ac.events[h]){ac[g](i,f[e].id,n[0]);ac.fireEvent(p,{event:i,info:f[e].id,group:n[0]});}}}}}},getBestMatch:<b>function </b>(e){<b>var </b>c=<b>null</b>;<b>var </b>f=e.length;<b>if </b>(f==1){c=e[0];}<b>else </b>{<b>for </b>(<b>var </b>d=0;d&lt;f;++d){<b>var </b>g=e[d];<b>if </b>(<b>this</b>.mode==<b>this</b>.INTERSECT&&g.cursorIsOver){c=g;<b>break</b>;}<b>else </b>{<b>if </b>(!c||!c.overlap||(g.overlap&&c.overlap.getArea()&lt;g.overlap.getArea())){c=g;}}}}<b>return</b> c;},refreshCache:<b>function </b>(g){<b>var </b>e=g||<b>this</b>.ids;<b>for </b>(<b>var </b>h<b> in </b>e){<b>if </b>("string"!=<b>typeof </b>h){<b>continue</b>;}<b>for </b>(<b>var </b>f<b> in </b><b>this</b>.ids[h]){<b>var </b>d=<b>this</b>.ids[h][f];<b>if </b>(<b>this</b>.isTypeOfDD(d)){<b>var </b>c=<b>this</b>.getLocation(d);<b>if </b>(c){<b>this</b>.locationCache[d.id]=c;}<b>else </b>{<b>delete </b><b>this</b>.locationCache[d.id];}}}}},verifyEl:<b>function </b>(d){<b>try </b>{<b>if </b>(d){<b>var </b>e=d.offsetParent;<b>if </b>(e){<b>return</b> <b>true</b>;}}}<b>catch </b>(c){}<b>return</b> <b>false</b>;},getLocation:<b>function </b>(k){<b>if </b>(!<b>this</b>.isTypeOfDD(k)){<b>return</b> <b>null</b>;}<b>var </b>m=k.getEl(),h,n,c,f,g,e,d,i,l;<b>try </b>{h=YAHOO.util.Dom.getXY(m);}<b>catch </b>(j){}<b>if </b>(!h){<b>return</b> <b>null</b>;}n=h[0];c=n+m.offsetWidth;f=h[1];g=f+m.offsetHeight;e=f-k.padding[0];d=c+k.padding[1];i=g+k.padding[2];l=n-k.padding[3];<b>return</b> <b>new </b>YAHOO.util.Region(e,d,i,l);},isOverTarget:<b>function </b>(e,d,k,j){<b>var </b>i=<b>this</b>.locationCache[d.id];<b>if </b>(!i||!<b>this</b>.useCache){i=<b>this</b>.getLocation(d);<b>this</b>.locationCache[d.id]=i;}<b>if </b>(!i){<b>return</b> <b>false</b>;}d.cursorIsOver=i.contains(e);<b>var </b>f=<b>this</b>.dragCurrent;<b>if </b>(!f||(!k&&!f.constrainX&&!f.constrainY)){<b>return</b> d.cursorIsOver;}d.overlap=<b>null</b>;<b>if </b>(!j){<b>var </b>h=f.getTargetCoord(e.x,e.y);<b>var </b>c=f.getDragEl();j=<b>new </b>YAHOO.util.Region(h.y,h.x+c.offsetWidth,h.y+c.offsetHeight,h.x);}<b>var </b>g=j.intersect(i);<b>if </b>(g){d.overlap=g;<b>return</b>(k)?<b>true</b>:d.cursorIsOver;}<b>else </b>{<b>return</b> <b>false</b>;}},_onUnload:<b>function </b>(c,d){<b>this</b>.unregAll();},unregAll:<b>function </b>(){<b>if </b>(<b>this</b>.dragCurrent){<b>this</b>.stopDrag();<b>this</b>.dragCurrent=<b>null</b>;}<b>this</b>._execOnAll("unreg",[]);<b>this</b>.ids={};},elementCache:{},getElWrapper:<b>function </b>(c){<b>var </b>d=<b>this</b>.elementCache[c];<b>if </b>(!d||!d.el){d=<b>this</b>.elementCache[c]=<b>new </b><b>this</b>.ElementWrapper(YAHOO.util.Dom.get(c));}<b>return</b> d;},getElement:<b>function </b>(c){<b>return</b> YAHOO.util.Dom.get(c);},getCss:<b>function </b>(c){<b>var </b>d=YAHOO.util.Dom.get(c);<b>return</b>(d)?d.style:<b>null</b>;},ElementWrapper:<b>function </b>(c){<b>this</b>.el=c||<b>null</b>;<b>this</b>.id=<b>this</b>.el&&c.id;<b>this</b>.css=<b>this</b>.el&&c.style;},getPosX:<b>function </b>(c){<b>return</b> YAHOO.util.Dom.getX(c);},getPosY:<b>function </b>(c){<b>return</b> YAHOO.util.Dom.getY(c);},swapNode:<b>function </b>(d,f){<b>if </b>(d.swapNode){d.swapNode(f);}<b>else </b>{<b>var </b>c=f.parentNode;<b>var </b>e=f.nextSibling;<b>if </b>(e==d){c.insertBefore(d,f);}<b>else </b>{<b>if </b>(f==d.nextSibling){c.insertBefore(f,d);}<b>else </b>{d.parentNode.replaceChild(f,d);c.insertBefore(d,e);}}}},getScroll:<b>function </b>(){<b>var </b>d,f,c=document.documentElement,e=document.body;<b>if </b>(c&&(c.scrollTop||c.scrollLeft)){d=c.scrollTop;f=c.scrollLeft;}<b>else </b>{<b>if </b>(e){d=e.scrollTop;f=e.scrollLeft;}<b>else </b>{}}<b>return</b>{top:d,left:f};},getStyle:<b>function </b>(c,d){<b>return</b> YAHOO.util.Dom.getStyle(c,d);},getScrollTop:<b>function </b>(){<b>return</b> <b>this</b>.getScroll().top;},getScrollLeft:<b>function </b>(){<b>return</b> <b>this</b>.getScroll().left;},moveToEl:<b>function </b>(e,c){<b>var </b>d=YAHOO.util.Dom.getXY(c);YAHOO.util.Dom.setXY(e,d);},getClientHeight:<b>function </b>(){<b>return</b> YAHOO.util.Dom.getViewportHeight();},getClientWidth:<b>function </b>(){<b>return</b> YAHOO.util.Dom.getViewportWidth();},numericSort:<b>function </b>(c,d){<b>return</b>(c-d);},_timeoutCount:0,_addListeners:<b>function </b>(){<b>var </b>c=YAHOO.util.DDM;<b>if </b>(YAHOO.util.Event&&document){c._onLoad();}<b>else </b>{<b>if </b>(c._timeoutCount&gt;2000){}<b>else </b>{setTimeout(c._addListeners,10);<b>if </b>(document&&document.body){c._timeoutCount+=1;}}}},handleWasClicked:<b>function </b>(e,c){<b>if </b>(<b>this</b>.isHandle(c,e.id)){<b>return</b> <b>true</b>;}<b>else </b>{<b>var </b>d=e.parentNode;<b>while </b>(d){<b>if </b>(<b>this</b>.isHandle(c,d.id)){<b>return</b> <b>true</b>;}<b>else </b>{d=d.parentNode;}}}<b>return</b> <b>false</b>;}};}();YAHOO.util.DDM=YAHOO.util.DragDropMgr;YAHOO.util.DDM._addListeners();}(<b>function </b>(){<b>var </b>a=YAHOO.util.Event;<b>var </b>b=YAHOO.util.Dom;YAHOO.util.DragDrop=<b>function </b>(c,e,d){<b>if </b>(c){<b>this</b>.init(c,e,d);}};YAHOO.util.DragDrop.prototype={events:<b>null</b>,on:<b>function </b>(){<b>this</b>.subscribe.apply(<b>this</b>,arguments);},id:<b>null</b>,config:<b>null</b>,dragElId:<b>null</b>,handleElId:<b>null</b>,invalidHandleTypes:<b>null</b>,invalidHandleIds:<b>null</b>,invalidHandleClasses:<b>null</b>,startPageX:0,startPageY:0,groups:<b>null</b>,locked:<b>false</b>,lock:<b>function </b>(){<b>this</b>.locked=<b>true</b>;},unlock:<b>function </b>(){<b>this</b>.locked=<b>false</b>;},isTarget:<b>true</b>,padding:<b>null</b>,dragOnly:<b>false</b>,useShim:<b>false</b>,_domRef:<b>null</b>,__ygDragDrop:<b>true</b>,constrainX:<b>false</b>,constrainY:<b>false</b>,minX:0,maxX:0,minY:0,maxY:0,deltaX:0,deltaY:0,maintainOffset:<b>false</b>,xTicks:<b>null</b>,yTicks:<b>null</b>,primaryButtonOnly:<b>true</b>,available:<b>false</b>,hasOuterHandles:<b>false</b>,cursorIsOver:<b>false</b>,overlap:<b>null</b>,b4StartDrag:<b>function </b>(d,c){},startDrag:<b>function </b>(d,c){},b4Drag:<b>function </b>(c){},onDrag:<b>function </b>(c){},onDragEnter:<b>function </b>(d,c){},b4DragOver:<b>function </b>(c){},onDragOver:<b>function </b>(d,c){},b4DragOut:<b>function </b>(c){},onDragOut:<b>function </b>(d,c){},b4DragDrop:<b>function </b>(c){},onDragDrop:<b>function </b>(d,c){},onInvalidDrop:<b>function </b>(c){},b4EndDrag:<b>function </b>(c){},endDrag:<b>function </b>(c){},b4MouseDown:<b>function </b>(c){},onMouseDown:<b>function </b>(c){},onMouseUp:<b>function </b>(c){},onAvailable:<b>function </b>(){},getEl:<b>function </b>(){<b>if </b>(!<b>this</b>._domRef){<b>this</b>._domRef=b.get(<b>this</b>.id);}<b>return</b> <b>this</b>._domRef;},getDragEl:<b>function </b>(){<b>return</b> b.get(<b>this</b>.dragElId);},init:<b>function </b>(c,f,e){<b>this</b>.initTarget(c,f,e);a.on(<b>this</b>._domRef||<b>this</b>.id,"mousedown",<b>this</b>.handleMouseDown,<b>this</b>,<b>true</b>);<b>for </b>(<b>var </b>d<b> in </b><b>this</b>.events){<b>this</b>.createEvent(d+"Event");}},initTarget:<b>function </b>(c,e,d){<b>this</b>.config=d||{};<b>this</b>.events={};<b>this</b>.DDM=YAHOO.util.DDM;<b>this</b>.groups={};<b>if </b>(<b>typeof </b>c!=="string"){<b>this</b>._domRef=c;c=b.generateId(c);}<b>this</b>.id=c;<b>this</b>.addToGroup((e)?e:"default");<b>this</b>.handleElId=c;a.onAvailable(c,<b>this</b>.handleOnAvailable,<b>this</b>,<b>true</b>);<b>this</b>.setDragElId(c);<b>this</b>.invalidHandleTypes={A:"A"};<b>this</b>.invalidHandleIds={};<b>this</b>.invalidHandleClasses=[];<b>this</b>.applyConfig();},applyConfig:<b>function </b>(){<b>this</b>.events={mouseDown:<b>true</b>,b4MouseDown:<b>true</b>,mouseUp:<b>true</b>,b4StartDrag:<b>true</b>,startDrag:<b>true</b>,b4EndDrag:<b>true</b>,endDrag:<b>true</b>,drag:<b>true</b>,b4Drag:<b>true</b>,invalidDrop:<b>true</b>,b4DragOut:<b>true</b>,dragOut:<b>true</b>,dragEnter:<b>true</b>,b4DragOver:<b>true</b>,dragOver:<b>true</b>,b4DragDrop:<b>true</b>,dragDrop:<b>true</b>};<b>if </b>(<b>this</b>.config.events){<b>for </b>(<b>var </b>c<b> in </b><b>this</b>.config.events){<b>if </b>(<b>this</b>.config.events[c]===<b>false</b>){<b>this</b>.events[c]=<b>false</b>;}}}<b>this</b>.padding=<b>this</b>.config.padding||[0,0,0,0];<b>this</b>.isTarget=(<b>this</b>.config.isTarget!==<b>false</b>);<b>this</b>.maintainOffset=(<b>this</b>.config.maintainOffset);<b>this</b>.primaryButtonOnly=(<b>this</b>.config.primaryButtonOnly!==<b>false</b>);<b>this</b>.dragOnly=((<b>this</b>.config.dragOnly===<b>true</b>)?<b>true</b>:<b>false</b>);<b>this</b>.useShim=((<b>this</b>.config.useShim===<b>true</b>)?<b>true</b>:<b>false</b>);},handleOnAvailable:<b>function </b>(){<b>this</b>.available=<b>true</b>;<b>this</b>.resetConstraints();<b>this</b>.onAvailable();},setPadding:<b>function </b>(d,f,c,e){<b>if </b>(!f&&0!==f){<b>this</b>.padding=[d,d,d,d];}<b>else </b>{<b>if </b>(!c&&0!==c){<b>this</b>.padding=[d,f,d,f];}<b>else </b>{<b>this</b>.padding=[d,f,c,e];}}},setInitPosition:<b>function </b>(e,f){<b>var </b>d=<b>this</b>.getEl();<b>if </b>(!<b>this</b>.DDM.verifyEl(d)){<b>if </b>(d&&d.style&&(d.style.display=="none")){}<b>else </b>{}<b>return</b>;}<b>var </b>g=e||0;<b>var </b>h=f||0;<b>var </b>c=b.getXY(d);<b>this</b>.initPageX=c[0]-g;<b>this</b>.initPageY=c[1]-h;<b>this</b>.lastPageX=c[0];<b>this</b>.lastPageY=c[1];<b>this</b>.setStartPosition(c);},setStartPosition:<b>function </b>(c){<b>var </b>d=c||b.getXY(<b>this</b>.getEl());<b>this</b>.deltaSetXY=<b>null</b>;<b>this</b>.startPageX=d[0];<b>this</b>.startPageY=d[1];},addToGroup:<b>function </b>(c){<b>this</b>.groups[c]=<b>true</b>;<b>this</b>.DDM.regDragDrop(<b>this</b>,c);},removeFromGroup:<b>function </b>(c){<b>if </b>(<b>this</b>.groups[c]){<b>delete </b><b>this</b>.groups[c];}<b>this</b>.DDM.removeDDFromGroup(<b>this</b>,c);},setDragElId:<b>function </b>(c){<b>this</b>.dragElId=c;},setHandleElId:<b>function </b>(c){<b>if </b>(<b>typeof </b>c!=="string"){c=b.generateId(c);}<b>this</b>.handleElId=c;<b>this</b>.DDM.regHandle(<b>this</b>.id,c);},setOuterHandleElId:<b>function </b>(c){<b>if </b>(<b>typeof </b>c!=="string"){c=b.generateId(c);}a.on(c,"mousedown",<b>this</b>.handleMouseDown,<b>this</b>,<b>true</b>);<b>this</b>.setHandleElId(c);<b>this</b>.hasOuterHandles=<b>true</b>;},unreg:<b>function </b>(){a.removeListener(<b>this</b>.id,"mousedown",<b>this</b>.handleMouseDown);<b>this</b>._domRef=<b>null</b>;<b>this</b>.DDM._remove(<b>this</b>);},isLocked:<b>function </b>(){<b>return</b>(<b>this</b>.DDM.isLocked()||<b>this</b>.locked);},handleMouseDown:<b>function </b>(c,d){<b>var </b>i=c.which||c.button;<b>if </b>(<b>this</b>.primaryButtonOnly&&i&gt;1){<b>return</b>;}<b>if </b>(<b>this</b>.isLocked()){<b>return</b>;}<b>var </b>j=<b>this</b>.b4MouseDown(c),g=<b>true</b>;<b>if </b>(<b>this</b>.events.b4MouseDown){g=<b>this</b>.fireEvent("b4MouseDownEvent",c);}<b>var </b>h=<b>this</b>.onMouseDown(c),e=<b>true</b>;<b>if </b>(<b>this</b>.events.mouseDown){e=<b>this</b>.fireEvent("mouseDownEvent",c);}<b>if </b>((j===<b>false</b>)||(h===<b>false</b>)||(g===<b>false</b>)||(e===<b>false</b>)){<b>return</b>;}<b>this</b>.DDM.refreshCache(<b>this</b>.groups);<b>var </b>f=<b>new </b>YAHOO.util.Point(a.getPageX(c),a.getPageY(c));<b>if </b>(!<b>this</b>.hasOuterHandles&&!<b>this</b>.DDM.isOverTarget(f,<b>this</b>)){}<b>else </b>{<b>if </b>(<b>this</b>.clickValidator(c)){<b>this</b>.setStartPosition();<b>this</b>.DDM.handleMouseDown(c,<b>this</b>);<b>this</b>.DDM.stopEvent(c);}<b>else </b>{}}},clickValidator:<b>function </b>(c){<b>var </b>d=YAHOO.util.Event.getTarget(c);<b>return</b>(<b>this</b>.isValidHandleChild(d)&&(<b>this</b>.id==<b>this</b>.handleElId||<b>this</b>.DDM.handleWasClicked(d,<b>this</b>.id)));},getTargetCoord:<b>function </b>(d,e){<b>var </b>f=d-<b>this</b>.deltaX;<b>var </b>c=e-<b>this</b>.deltaY;<b>if </b>(<b>this</b>.constrainX){<b>if </b>(f&lt;<b>this</b>.minX){f=<b>this</b>.minX;}<b>if </b>(f&gt;<b>this</b>.maxX){f=<b>this</b>.maxX;}}<b>if </b>(<b>this</b>.constrainY){<b>if </b>(c&lt;<b>this</b>.minY){c=<b>this</b>.minY;}<b>if </b>(c&gt;<b>this</b>.maxY){c=<b>this</b>.maxY;}}f=<b>this</b>.getTick(f,<b>this</b>.xTicks);c=<b>this</b>.getTick(c,<b>this</b>.yTicks);<b>return</b>{x:f,y:c};},addInvalidHandleType:<b>function </b>(d){<b>var </b>c=d.toUpperCase();<b>this</b>.invalidHandleTypes[c]=c;},addInvalidHandleId:<b>function </b>(c){<b>if </b>(<b>typeof </b>c!=="string"){c=b.generateId(c);}<b>this</b>.invalidHandleIds[c]=c;},addInvalidHandleClass:<b>function </b>(c){<b>this</b>.invalidHandleClasses.push(c);},removeInvalidHandleType:<b>function </b>(d){<b>var </b>c=d.toUpperCase();<b>delete </b><b>this</b>.invalidHandleTypes[c];},removeInvalidHandleId:<b>function </b>(c){<b>if </b>(<b>typeof </b>c!=="string"){c=b.generateId(c);}<b>delete </b><b>this</b>.invalidHandleIds[c];},removeInvalidHandleClass:<b>function </b>(d){<b>for </b>(<b>var </b>c=0,e=<b>this</b>.invalidHandleClasses.length;c&lt;e;++c){<b>if </b>(<b>this</b>.invalidHandleClasses[c]==d){<b>delete </b><b>this</b>.invalidHandleClasses[c];}}},isValidHandleChild:<b>function </b>(e){<b>var </b>f=<b>true</b>;<b>var </b>c;<b>try </b>{c=e.nodeName.toUpperCase();}<b>catch </b>(d){c=e.nodeName;}f=f&&!<b>this</b>.invalidHandleTypes[c];f=f&&!<b>this</b>.invalidHandleIds[e.id];<b>for </b>(<b>var </b>g=0,h=<b>this</b>.invalidHandleClasses.length;f&&g&lt;h;++g){f=!b.hasClass(e,<b>this</b>.invalidHandleClasses[g]);}<b>return</b> f;},setXTicks:<b>function </b>(c,f){<b>this</b>.xTicks=[];<b>this</b>.xTickSize=f;<b>var </b>d={};<b>for </b>(<b>var </b>e=<b>this</b>.initPageX;e&gt;=<b>this</b>.minX;e=e-f){<b>if </b>(!d[e]){<b>this</b>.xTicks[<b>this</b>.xTicks.length]=e;d[e]=<b>true</b>;}}<b>for </b>(e=<b>this</b>.initPageX;e&lt;=<b>this</b>.maxX;e=e+f){<b>if </b>(!d[e]){<b>this</b>.xTicks[<b>this</b>.xTicks.length]=e;d[e]=<b>true</b>;}}<b>this</b>.xTicks.sort(<b>this</b>.DDM.numericSort);},setYTicks:<b>function </b>(c,f){<b>this</b>.yTicks=[];<b>this</b>.yTickSize=f;<b>var </b>d={};<b>for </b>(<b>var </b>e=<b>this</b>.initPageY;e&gt;=<b>this</b>.minY;e=e-f){<b>if </b>(!d[e]){<b>this</b>.yTicks[<b>this</b>.yTicks.length]=e;d[e]=<b>true</b>;}}<b>for </b>(e=<b>this</b>.initPageY;e&lt;=<b>this</b>.maxY;e=e+f){<b>if </b>(!d[e]){<b>this</b>.yTicks[<b>this</b>.yTicks.length]=e;d[e]=<b>true</b>;}}<b>this</b>.yTicks.sort(<b>this</b>.DDM.numericSort);},setXConstraint:<b>function </b>(c,d,e){<b>this</b>.leftConstraint=parseInt(c,10);<b>this</b>.rightConstraint=parseInt(d,10);<b>this</b>.minX=<b>this</b>.initPageX-<b>this</b>.leftConstraint;<b>this</b>.maxX=<b>this</b>.initPageX+<b>this</b>.rightConstraint;<b>if </b>(e){<b>this</b>.setXTicks(<b>this</b>.initPageX,e);}<b>this</b>.constrainX=<b>true</b>;},clearConstraints:<b>function </b>(){<b>this</b>.constrainX=<b>false</b>;<b>this</b>.constrainY=<b>false</b>;<b>this</b>.clearTicks();},clearTicks:<b>function </b>(){<b>this</b>.xTicks=<b>null</b>;<b>this</b>.yTicks=<b>null</b>;<b>this</b>.xTickSize=0;<b>this</b>.yTickSize=0;},setYConstraint:<b>function </b>(e,c,d){<b>this</b>.topConstraint=parseInt(e,10);<b>this</b>.bottomConstraint=parseInt(c,10);<b>this</b>.minY=<b>this</b>.initPageY-<b>this</b>.topConstraint;<b>this</b>.maxY=<b>this</b>.initPageY+<b>this</b>.bottomConstraint;<b>if </b>(d){<b>this</b>.setYTicks(<b>this</b>.initPageY,d);}<b>this</b>.constrainY=<b>true</b>;},resetConstraints:<b>function </b>(){<b>if </b>(<b>this</b>.initPageX||<b>this</b>.initPageX===0){<b>var </b>c=(<b>this</b>.maintainOffset)?<b>this</b>.lastPageX-<b>this</b>.initPageX:0;<b>var </b>d=(<b>this</b>.maintainOffset)?<b>this</b>.lastPageY-<b>this</b>.initPageY:0;<b>this</b>.setInitPosition(c,d);}<b>else </b>{<b>this</b>.setInitPosition();}<b>if </b>(<b>this</b>.constrainX){<b>this</b>.setXConstraint(<b>this</b>.leftConstraint,<b>this</b>.rightConstraint,<b>this</b>.xTickSize);}<b>if </b>(<b>this</b>.constrainY){<b>this</b>.setYConstraint(<b>this</b>.topConstraint,<b>this</b>.bottomConstraint,<b>this</b>.yTickSize);}},getTick:<b>function </b>(c,f){<b>if </b>(!f){<b>return</b> c;}<b>else </b>{<b>if </b>(f[0]&gt;=c){<b>return</b> f[0];}<b>else </b>{<b>for </b>(<b>var </b>h=0,i=f.length;h&lt;i;++h){<b>var </b>g=h+1;<b>if </b>(f[g]&&f[g]&gt;=c){<b>var </b>d=c-f[h];<b>var </b>e=f[g]-c;<b>return</b>(e&gt;d)?f[h]:f[g];}}<b>return</b> f[f.length-1];}}},toString:<b>function </b>(){<b>return</b>("DragDrop "+<b>this</b>.id);}};YAHOO.augment(YAHOO.util.DragDrop,YAHOO.util.EventProvider);})();YAHOO.util.DD=<b>function </b>(b,a,c){<b>if </b>(b){<b>this</b>.init(b,a,c);}};YAHOO.extend(YAHOO.util.DD,YAHOO.util.DragDrop,{scroll:<b>true</b>,autoOffset:<b>function </b>(c,d){<b>var </b>a=c-<b>this</b>.startPageX;<b>var </b>b=d-<b>this</b>.startPageY;<b>this</b>.setDelta(a,b);},setDelta:<b>function </b>(b,a){<b>this</b>.deltaX=b;<b>this</b>.deltaY=a;},setDragElPos:<b>function </b>(b,c){<b>var </b>a=<b>this</b>.getDragEl();<b>this</b>.alignElWithMouse(a,b,c);},alignElWithMouse:<b>function </b>(g,c,d){<b>var </b>e=<b>this</b>.getTargetCoord(c,d);<b>if </b>(!<b>this</b>.deltaSetXY){<b>var </b>b=[e.x,e.y];YAHOO.util.Dom.setXY(g,b);<b>var </b>f=parseInt(YAHOO.util.Dom.getStyle(g,"left"),10);<b>var </b>h=parseInt(YAHOO.util.Dom.getStyle(g,"top"),10);<b>this</b>.deltaSetXY=[f-e.x,h-e.y];}<b>else </b>{YAHOO.util.Dom.setStyle(g,"left",(e.x+<b>this</b>.deltaSetXY[0])+"px");YAHOO.util.Dom.setStyle(g,"top",(e.y+<b>this</b>.deltaSetXY[1])+"px");}<b>this</b>.cachePosition(e.x,e.y);<b>var </b>a=<b>this</b>;setTimeout(<b>function </b>(){a.autoScroll.call(a,e.x,e.y,g.offsetHeight,g.offsetWidth);},0);},cachePosition:<b>function </b>(c,a){<b>if </b>(c){<b>this</b>.lastPageX=c;<b>this</b>.lastPageY=a;}<b>else </b>{<b>var </b>b=YAHOO.util.Dom.getXY(<b>this</b>.getEl());<b>this</b>.lastPageX=b[0];<b>this</b>.lastPageY=b[1];}},autoScroll:<b>function </b>(i,j,n,h){<b>if </b>(<b>this</b>.scroll){<b>var </b>g=<b>this</b>.DDM.getClientHeight();<b>var </b>c=<b>this</b>.DDM.getClientWidth();<b>var </b>e=<b>this</b>.DDM.getScrollTop();<b>var </b>a=<b>this</b>.DDM.getScrollLeft();<b>var </b>k=n+j;<b>var </b>f=h+i;<b>var </b>l=(g+e-j-<b>this</b>.deltaY);<b>var </b>m=(c+a-i-<b>this</b>.deltaX);<b>var </b>b=40;<b>var </b>d=(document.all)?80:30;<b>if </b>(k&gt;g&&l&lt;b){window.scrollTo(a,e+d);}<b>if </b>(j&lt;e&&e&gt;0&&j-e&lt;b){window.scrollTo(a,e-d);}<b>if </b>(f&gt;c&&m&lt;b){window.scrollTo(a+d,e);}<b>if </b>(i&lt;a&&a&gt;0&&i-a&lt;b){window.scrollTo(a-d,e);}}},applyConfig:<b>function </b>(){YAHOO.util.DD.superclass.applyConfig.call(<b>this</b>);<b>this</b>.scroll=(<b>this</b>.config.scroll!==<b>false</b>);},b4MouseDown:<b>function </b>(a){<b>this</b>.setStartPosition();<b>this</b>.autoOffset(YAHOO.util.Event.getPageX(a),YAHOO.util.Event.getPageY(a));},b4Drag:<b>function </b>(a){<b>this</b>.setDragElPos(YAHOO.util.Event.getPageX(a),YAHOO.util.Event.getPageY(a));},toString:<b>function </b>(){<b>return</b>("DD "+<b>this</b>.id);}});YAHOO.util.DDProxy=<b>function </b>(b,a,c){<b>if </b>(b){<b>this</b>.init(b,a,c);<b>this</b>.initFrame();}};YAHOO.util.DDProxy.dragElId="ygddfdiv";YAHOO.extend(YAHOO.util.DDProxy,YAHOO.util.DD,{resizeFrame:<b>true</b>,centerFrame:<b>false</b>,createFrame:<b>function </b>(){<b>var </b>f=<b>this</b>,a=document.body;<b>if </b>(!a||!a.firstChild){setTimeout(<b>function </b>(){f.createFrame();},50);<b>return</b>;}<b>var </b>b=<b>this</b>.getDragEl(),c=YAHOO.util.Dom;<b>if </b>(!b){b=document.createElement("div");b.id=<b>this</b>.dragElId;<b>var </b>d=b.style;d.position="absolute";d.visibility="hidden";d.cursor="move";d.border="2px solid #aaa";d.zIndex=999;d.height="25px";d.width="25px";<b>var </b>e=document.createElement("div");c.setStyle(e,"height","100%");c.setStyle(e,"width","100%");c.setStyle(e,"background-color","#ccc");c.setStyle(e,"opacity","0");b.appendChild(e);a.insertBefore(b,a.firstChild);}},initFrame:<b>function </b>(){<b>this</b>.createFrame();},applyConfig:<b>function </b>(){YAHOO.util.DDProxy.superclass.applyConfig.call(<b>this</b>);<b>this</b>.resizeFrame=(<b>this</b>.config.resizeFrame!==<b>false</b>);<b>this</b>.centerFrame=(<b>this</b>.config.centerFrame);<b>this</b>.setDragElId(<b>this</b>.config.dragElId||YAHOO.util.DDProxy.dragElId);},showFrame:<b>function </b>(b,c){<b>var </b>d=<b>this</b>.getEl();<b>var </b>a=<b>this</b>.getDragEl();<b>var </b>e=a.style;<b>this</b>._resizeProxy();<b>if </b>(<b>this</b>.centerFrame){<b>this</b>.setDelta(Math.round(parseInt(e.width,10)/2),Math.round(parseInt(e.height,10)/2));}<b>this</b>.setDragElPos(b,c);YAHOO.util.Dom.setStyle(a,"visibility","visible");},_resizeProxy:<b>function </b>(){<b>if </b>(<b>this</b>.resizeFrame){<b>var </b>f=YAHOO.util.Dom;<b>var </b>c=<b>this</b>.getEl();<b>var </b>b=<b>this</b>.getDragEl();<b>var </b>g=parseInt(f.getStyle(b,"borderTopWidth"),10);<b>var </b>e=parseInt(f.getStyle(b,"borderRightWidth"),10);<b>var </b>h=parseInt(f.getStyle(b,"borderBottomWidth"),10);<b>var </b>a=parseInt(f.getStyle(b,"borderLeftWidth"),10);<b>if </b>(isNaN(g)){g=0;}<b>if </b>(isNaN(e)){e=0;}<b>if </b>(isNaN(h)){h=0;}<b>if </b>(isNaN(a)){a=0;}<b>var </b>i=Math.max(0,c.offsetWidth-e-a);<b>var </b>d=Math.max(0,c.offsetHeight-g-h);f.setStyle(b,"width",i+"px");f.setStyle(b,"height",d+"px");}},b4MouseDown:<b>function </b>(c){<b>this</b>.setStartPosition();<b>var </b>a=YAHOO.util.Event.getPageX(c);<b>var </b>b=YAHOO.util.Event.getPageY(c);<b>this</b>.autoOffset(a,b);},b4StartDrag:<b>function </b>(a,b){<b>this</b>.showFrame(a,b);},b4EndDrag:<b>function </b>(a){YAHOO.util.Dom.setStyle(<b>this</b>.getDragEl(),"visibility","hidden");},endDrag:<b>function </b>(b){<b>var </b>c=YAHOO.util.Dom;<b>var </b>d=<b>this</b>.getEl();<b>var </b>a=<b>this</b>.getDragEl();c.setStyle(a,"visibility","");c.setStyle(d,"visibility","hidden");YAHOO.util.DDM.moveToEl(d,a);c.setStyle(a,"visibility","hidden");c.setStyle(d,"visibility","");},toString:<b>function </b>(){<b>return</b>("DDProxy "+<b>this</b>.id);}});YAHOO.util.DDTarget=<b>function </b>(b,a,c){<b>if </b>(b){<b>this</b>.initTarget(b,a,c);}};YAHOO.extend(YAHOO.util.DDTarget,YAHOO.util.DragDrop,{toString:<b>function </b>(){<b>return</b>("DDTarget "+<b>this</b>.id);}});YAHOO.register("dragdrop",YAHOO.util.DragDropMgr,{version:"2.8.1",build:"19"});js.util.DragDropMgr=YAHOO.util.DragDropMgr;js.util.DragDropMgr.getLocation=<b>function </b>(b){<b>var </b>a=YAHOO.util.DragDropMgr.getLocation(b);<b>if </b>(a!=<b>null</b>){<b>return</b>{x:a.x,y:a.y,w:a.width,h:a.height};}<b>else </b>{<b>return</b> <b>null</b>;}};js.util.DragDrop=YAHOO.util.DragDrop;js.util.DD=YAHOO.util.DD;js.util.DDProxy=YAHOO.util.DDProxy;js.util.DDTarget=YAHOO.util.DDTarget;

</pre>
<hr/>
</BODY>
</HTML>
