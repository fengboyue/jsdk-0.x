<!--  -->
<HTML>
<HEAD>
<TITLE></TITLE>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<LINK REL ="stylesheet" TYPE="text/css" HREF="../inc/stylesheet.css">
</HEAD>

<BODY style="margin:5px;">
<div style="float:right;">
<span class="button" onclick="if(window.history.length > 1) window.history.go(-1);">Back</span>
</div>
<div style="margin-left:5px;">util\js-util-validator-min.js</div>
<pre class="source">
<span class="multiComment">/*!
 * @project JSDK JavaScript Development Kit
 * @copyright Copyright(c) 2004-2012, Dragonfly.org. All rights reserved.
 * @license LGPLv3
 * 
 * @version 0.1
 * @author feng.chun
 * @date 2007-8-30
 * 
 * @requires /core/js-core.js
 */</span>
js.util.Validator=<b>function </b>(){<b>return</b>{REGS:{FULL_NUMBER:/^\d+$/,ENGLISH:/^[A-Za-z]+$/,ENGLISH_NUMBER:/^[A-Za-z\d]+$/,EMAIL:/^\w+(((-|&)\w*)|(\.\w+))*\@[A-Za-z0-9]+((\-)[A-Za-z0-9]*|(\.)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/,EMAIL_DOMAIN:/^@[A-Za-z0-9]+((\-)[A-Za-z0-9]*|(\.)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/,DATE:/^(\d{1,4})(-|\/)(\d{1,2})(-|\/)(\d{1,2})$/,DATE_TIME:/^(\d{1,4})(-|\/)(\d{1,2})(-|\/)(\d{1,2})\s(\d{1,2}):(\d{1,2}):(\d{1,2})$/,TIME:/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/,HALF_ANGLE:/^[\u0000-\u00FF]+$/,ENTIRE_ANGLE_NOCHINESE:/^[\uFF00-\uFFFF]+$/,ENTIRE_ANGLE:/^[\u0391-\uFFE5]+$/,IP:/^(0|[1-9]\d?|[0-1]\d{2}|2[0-4]\d|25[0-5]).(0|[1-9]\d?|[0-1]\d{2}|2[0-4]\d|25[0-5]).(0|[1-9]\d?|[0-1]\d{2}|2[0-4]\d|25[0-5]).(0|[1-9]\d?|[0-1]\d{2}|2[0-4]\d|25[0-5])$/},isNotEmpty:<b>function </b>(a){<b>if </b>(!a||!a<b> instanceof </b>String){<b>return</b> <b>false</b>;}<b>return</b> a.length&gt;0;},isEmpty:<b>function </b>(a){<b>return</b> !<b>this</b>.isNotEmpty(a);},isNull:<b>function </b>(a){<b>return</b> js.lang.System.isNull(a)||js.lang.System.isUndefined(a);},validateWith:<b>function </b>(c,b,a){<b>if </b>(<b>this</b>.isNull(c.trim())){<b>return</b> a?<b>true</b>:<b>false</b>;}c=c.trim();<b>if </b>(<b>this</b>.isEmpty(c)){<b>return</b> a?<b>true</b>:<b>false</b>;}<b>return</b>(c&&(<b>new </b>RegExp(b)).test(c));},isDate:<b>function </b>(b,a){<b>return</b> <b>this</b>.validateWith(b,<b>this</b>.REGS.DATE,a);},isDateTime:<b>function </b>(b,a){<b>return</b> <b>this</b>.validateWith(b,<b>this</b>.REGS.DATE_TIME,a);},isTime:<b>function </b>(b,a){<b>return</b> <b>this</b>.validateWith(b,<b>this</b>.REGS.TIME,a);},isIP:<b>function </b>(b,a){<b>return</b> <b>this</b>.validateWith(b,<b>this</b>.REGS.IP,a);},isEmail:<b>function </b>(b,a){<b>return</b> <b>this</b>.validateWith(b,<b>this</b>.REGS.EMAIL,a);},isEmailDomain:<b>function </b>(b,a){<b>return</b> <b>this</b>.validateWith(b,<b>this</b>.REGS.EMAIL_DOMAIN,a);},isFullNumber:<b>function </b>(b,a){<b>return</b> <b>this</b>.validateWith(b,<b>this</b>.REGS.FULL_NUMBER,a);},_isNumber:<b>function </b>(c,b,a){<b>if </b>(<b>this</b>.isNull(b.trim())){<b>return</b> a?<b>true</b>:<b>false</b>;}b=b.trim();<b>if </b>(<b>this</b>.isEmpty(b)){<b>return</b> a?<b>true</b>:<b>false</b>;}<b>return</b> Number[c](b);},isNumber:<b>function </b>(b,a){<b>return</b> <b>this</b>._isNumber("isNumber",b,a);},isFloat:<b>function </b>(b,a){<b>return</b> <b>this</b>._isNumber("isFloat",b,a);},isInt:<b>function </b>(b,a){<b>return</b> <b>this</b>._isNumber("isInt",b,a);},isNegative:<b>function </b>(b,a){<b>return</b> <b>this</b>._isNumber("isNegative",b,a);},isPositive:<b>function </b>(b,a){<b>return</b> <b>this</b>._isNumber("isPositive",b,a);},isNumberFormat:<b>function </b>(g,e,b){<b>if </b>(<b>this</b>.isNull(g.trim())){<b>return</b> b?<b>true</b>:<b>false</b>;}g=g.trim();<b>if </b>(<b>this</b>.isEmpty(g)){<b>return</b> b?<b>true</b>:<b>false</b>;}<b>if </b>(!e||!<b>this</b>.isNumber(g)){<b>return</b> <b>false</b>;}<b>var </b>d=e.split("."),h=Number.toNumber(g),c=h.intLength(),a=h.decLength();<b>if </b>(c&gt;0&&d[0]){<b>if </b>(c&gt;parseInt(d[0])){<b>return</b> <b>false</b>;}}<b>if </b>(a&gt;0&&d[1]){<b>if </b>(a&gt;parseInt(d[1])){<b>return</b> <b>false</b>;}}<b>return</b> <b>true</b>;},isTextLength:<b>function </b>(e,d,b){<b>if </b>(<b>this</b>.isNull(e.trim())){<b>return</b> b?<b>true</b>:<b>false</b>;}<b>if </b>(!d||!/^[(\d,\d]$)/.test(d)){<b>return</b> <b>false</b>;}<b>var </b>a=e.length,c=d.match(/\d+/g);<b>if </b>(a&lt;c[0]){<b>return</b> <b>false</b>;}<b>if </b>(c.length&gt;1){<b>if </b>(c[1]&lt;c[0]){<b>return</b> <b>false</b>;}<b>if </b>(a&gt;c[1]){<b>return</b> <b>false</b>;}}<b>return</b> <b>true</b>;},isSBC:<b>function </b>(b,a){<b>return</b> <b>this</b>.validateWith(b,<b>this</b>.REGS.HALF_ANGLE,a);},isDBC:<b>function </b>(b,a){<b>return</b> <b>this</b>.validateWith(b,<b>this</b>.REGS.ENTIRE_ANGLE,a);},isDBCWithoutChinese:<b>function </b>(b,a){<b>return</b> <b>this</b>.validateWith(b,<b>this</b>.REGS.ENTIRE_ANGLE_NOCHINESE,a);},isEngish:<b>function </b>(b,a){<b>return</b> <b>this</b>.validateWith(b,<b>this</b>.REGS.ENGLISH,a);},isEngishOrNumber:<b>function </b>(b,a){<b>return</b> <b>this</b>.validateWith(b,<b>this</b>.REGS.ENGLISH_NUMBER,a);}};}();js.util.HTMLCheckor=<b>function </b>(){<b>var </b>a=<b>function </b>(f){<b>var </b>e=f.tagName?f.tagName.toLowerCase():<b>null</b>;<b>if </b>(!e){<b>return</b> <b>null</b>;}<b>var </b>c="";<b>switch </b>(e){case"input":<b>if </b>(f.type=="radio"){f=document.getElementsByName(f.name);<b>for </b>(<b>var </b>d=0;d&lt;f.length;d++){<b>if </b>(f[d].checked){c=f[d].value;}}}<b>else </b>{<b>if </b>(f.type=="checkbox"){f=document.getElementsByName(f.name);c=[];<b>for </b>(<b>var </b>d=0;d&lt;f.length;d++){<b>if </b>(f[d].checked){c[c.length]=f[d].value;}}}<b>else </b>{c=f.value;}}<b>break</b>;case"select":<b>if </b>(f.type=="select-one"){<b>if </b>(f.selectedIndex!=-1){c=f.options[f.selectedIndex].value;}}<b>else </b>{<b>if </b>(f.type=="select-multiple"){c=[];<b>for </b>(<b>var </b>d=0;d&lt;f.length;d++){<b>if </b>(f[d].selected){c[c.length]=f[d].value;}}}}<b>break</b>;case"textarea":c=f.value;<b>break</b>;}<b>return</b> c;};<b>var </b>b=<b>function </b>(e,d){<b>var </b>h=js.core.Dom.$(e);<b>if </b>(!h){<b>return</b> <b>true</b>;}<b>var </b>c=h.getAttribute("validate");<b>if </b>(!c){<b>return</b> <b>true</b>;}<b>var </b>f=a(h);<b>if </b>(!f){<b>return</b> <b>true</b>;}<b>var </b>g=js.lang.System.parseJSON(c);<b>if </b>(!g){<b>return</b> <b>true</b>;}<b>if </b>(!js.lang.System.isArray(g)){<b>throw </b><b>new </b>Error("[js.util.HTMLCheckor]The validate rules invalid format.");}<b>return</b> g.every(<b>function </b>(k){<b>if </b>(k&&k.name){<b>var </b>i=<b>true</b>,l=js.util.Validator[k.name];<b>if </b>(l){<b>try </b>{i=l.apply(js.util.Validator,[f].concat(k.args||[]));}<b>catch </b>(j){}}<b>if </b>(!i){<b>try </b>{<b>if </b>(d){d.call(h,k,oldValue);}}<b>catch </b>(j){}<b>finally </b>{<b>return</b> i;}}}});};<b>return</b>{setRule:<b>function </b>(c,e){<b>var </b>d=js.core.Dom.$(c);<b>if </b>(d){d.setAttribute("validate",e);}},checkInput:<b>function </b>(c,d){<b>return</b> b(c,d);},checkForm:<b>function </b>(g,f){<b>var </b>j=js.core.Dom.$(g),e=j.elements,h=<b>true</b>;<b>for </b>(<b>var </b>d=0,c=e.length;d&lt;c;d++){<b>if </b>(!<b>this</b>.checkInput(e[d],f)){h=<b>false</b>;}}<b>return</b> h;}};}();

</pre>
<hr/>
</BODY>
</HTML>
